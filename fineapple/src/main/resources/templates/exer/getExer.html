<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ko">
<head th:replace="index/toolbar :: head">
<meta charset="utf-8">
</head>
<body>

<div th:insert="index/toolbar :: toolbar">
	</div>
<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script th:inline="javascript">

function fncUpdateProduct(){
	
	$("form").attr("method" , "POST").attr("action" , "/exer/aa").submit();
	
}


$(function() {
	
	$( "button.btn.btn-primary").on("click" , function() {
		
 		history.go(-1);
 		
	});	
	
	 $( "#plusKcal"  ).on("click" , function() {
			//Debug..
			//alert(  $( "td.ct_btn01:contains('수정')" ).html() );
			fncUpdateProduct();
		});
	
});

function count(type)  {
	
		
	
	 /*  // 결과를 표시할 element
	  const resultElement = document.getElementById('result');
	  
	  // 현재 화면에 표시된 값
	  let number = resultElement.innerText;
	  
	  // 더하기/빼기
	  if(type === 'plus') {
	    number = parseInt(number) + 10;
	  }else if(type === 'minus')  {

	    number = parseInt(number) - 10;
	  }
	 
	  
	  // 결과 출력
	  resultElement.innerText = number; */
	}


	function sports(selectCal){
		var exerKcal = [[${exer.exerKcal}]]; 
		console.log(exerKcal);
		console.log($("#sporttime").val());
		$("#sportsKcal").text((exerKcal*$("#sporttime").val()).toFixed(0)+" kcal");
	}

	function sportsTime(){
		var exerKcal = [[${exer.exerKcal}]]; 
		console.log(exerKcal);
		console.log($("#sporttime").val());
		$("#sportsKcal").text((exerKcal*$("#sporttime").val()).toFixed(0)+" kcal");
		//document.getElementById('sportsCal').innerText = $("select[name=order]").val()*obj.query.value;
	}

	function choiceType(val,df_num){
		if (val == "+"){
			$("#sporttime").val(parseInt($("#sporttime").val())+parseInt(df_num));
		}else{
			var pinum=parseInt($("#sporttime").val())-parseInt(df_num);
			if ( pinum <= 0 ){
				pinum=df_num;
			}
			$("#sporttime").val(pinum);
		}
		sportsTime();
	}


	

/* $(function() {
	//==> DOM Object GET 3가지 방법 ==> 1. $(tagName) : 2.(#id) : 3.$(.className)
	//==> 1 과 3 방법 조합 : $("tagName.className:filter함수") 사용함.	
	 $( "button.btn.btn-danger" ).on("click" , function() {
		//Debug..
		//alert(  $( "td.ct_btn01:contains('가입')" ).html() );
		
		
	
		var foodCd = $("#exerNo").attr("data-exerNo");
	
	
	
		
		  $.ajax({
				url: "/diet/addFavMealItem?checkarray="+foodCd,
				success:function(data){
					$("#mmodalHolder").html(data);
					$("#mmodal").modal("show");			
					
				}  
				  
			  });
		
		
		 
	});
});	 */

</script>

			
<div class="container show-grid">
		<div class="row">
			<div class="col-md-2">
				<div data-obj-id="PTjxr" data-obj-type="element"
					data- text-editable="true" class="">
					<div data-text-content="true"
						style="border-radius: 30px; text-align: center; line-height: 20px; color: rgb(255, 255, 255); font-size: 14px; box-shadow: none; background-color: rgba(31, 108, 28, 0.67);"
						class="">오늘의 추천 음식?</div>
				</div>

				<a href="http://item.gmarket.co.kr/Item?goodscode=2042609688"><img src="../assets/img/salad3.jpg" style ="height: 500px; width: 200px;"/></a>
			</div>
			<div class="col-md-10">
			<br>
			<br>		
			<div align="center" data-text-content="true" style="font-weight: bold; font-size: 33px; color: rgb(41, 96, 47);" class="">운동 상세정보</div>
			<br><br><br>
			
			<div data-text-content="true" style="font-weight:bold;font-size:32px;" class="" align="center" th:text=${exer.exerName}></div>
			
			
			<br><br><br>
			<div style="text-align:right;">
			
			<!--Manager로 로그인 시에만 출력  -->
			<a th:href="@{../exer/getUpdateExer?exerNo=}+${exer.exerNo}" >수정하기</a>
			<a th:href="@{../exer/deleteExer?exerNo=}+${exer.exerNo}" >삭제하기</a>
			
			</div>
			
			<br><br>
			<div data-text-content="true" style="font-size:16px;" class="">  
   		  	<span th:if="${exer.exerVideoName == 'null'}" >
			<iframe width="100%" height="500"
					src="https://www.youtube.com/embed/0YRDWKWmnwc?autoplay=1"
					frameborder="0" ></iframe>
			</span>
   		    <span th:unless="${exer.exerVideoName == 'null'}"> 
   		    <video th:src="@{/assets/video/} + ${exer.exerVideoName}" type="video/mp4" controls style="width: 1000px; height: 450px; text-align:right;"> 영상 재생 불가</video>
   			</span>
   			</div>
			<br><br>
   		  	
   		  	<div align="center">	  	
   		  	<img src="../assets/img/clock.png" style="width: 200px; width: 50px;"> &nbsp;
			<span data-text-content="true" style="font-size:30px;"  class="" th:text=${exer.exerVideoTime} >			
			</span>
			
		     &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<img src="../assets/img/level.png" style="width: 200px; width: 50px;"> &nbsp;
			<span data-text-content="true" style="font-size:30px;" class="" th:text=${exer.exerLv}>			
			</span>
			&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<img src="../assets/img/runningPerson.png" style="width: 200px; width: 50px;">&nbsp;
			<span data-text-content="true" style="font-size:30px;" id="exerkcal" class="" th:value=${exer.exerKcal} th:text=${exer.exerKcal}>	
			</span>  (10분당 kcal 입니다)
			
   		  	</div>
   		  	
   		  	<br>
   		  	
   		  	 <div align="center"> 
   		  	 
   		  <!-- 	 <img src="../assets/img/plus.png" style="width: 100px; width: 50px; font-size:20px; " id="plusKcal"> -->
   		  <!-- 	<input type='button'onclick='count("plus")' value='+'/>
			<input type='button'onclick='count("minus")'value='-'/> -->
			<input type="text" id="sporttime" name="txtsptime" value="10" onclick="sportsTime();" onkeydown="this.value=this.value.replace(/[^0-9]/g,'')" onkeyup="sportsTime();this.value=this.value.replace(/[^0-9]/g,'');" class="ipt5" style="width:80px" placeholder="">
		<!-- 	<div id='result'>0</div> -->
		<span class="btns">
		<a href="javascript:choiceType('+','10');">+</a>
		<a href="javascript:choiceType('-','10');">-</a>
		</span>
   		  분당 칼로리: <span data-text-content="true" style="font-size:20px;" id="sportsKcal" class="" th:text=${exer.exerKcal}>	</span>
   		   	</div>
   		  	
   		  	<div align="left"><button type="button" class="btn btn-success">일일운동량에 추가</button></div>
			<div align="left"><button type="button" class="btn btn-danger" >루틴에 추가</button></div>
	
     		  	
   		  
			<br><br><br><br>
			<div class="form-group">
	  		<div class="col-md-12 text-center ">
	  			<button type="button" class="btn btn-primary">이전</button>
	  		</div>
		</div>
		<br/>
		
 	</div>
			<br><br>
			</div>
			</div>
			<div id="mmodalHolder" style="width:200px;">
			
			</div>
			
</body>
</html>